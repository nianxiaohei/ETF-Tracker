# ETF 价格跟踪系统 - 使用说明

## 系统概述
这是一个交互式ETF价格跟踪系统，支持同时监控16只ETF的价格，并提供交易信号分析。

## 支持的ETF列表

1. **MSCI中国A50ETF** (SH560050)
2. **创业板成长ETF** (SZ159967)
3. **中概互联网ETF易方达** (SH513050)
4. **碳中和ETF** (SZ159790)
5. **医药ETF易方达** (SH512010)
6. **双创ETF** (SH588300)
7. **纳指ETF** (SH513100)
8. **标普500ETF** (SH513500)
9. **港股红利低波ETF** (SH520550)
10. **消费ETF** (SZ159928)
11. **旅游ETF** (SZ159766)
12. **恒生科技指数ETF** (SH513180)
13. **纳指科技ETF** (SZ159509)
14. **芯片ETF** (SZ159995)
15. **恒生ETF** (SZ159920)
16. **证券保险ETF易方达** (SH512070)

## 启动系统

### 方法1：直接运行（需要激活虚拟环境）

```bash
cd ~/Desktop/ETF_trace
source venv/bin/activate
python main.py
```

### 方法2：使用Python3直接运行

如果系统提示没有python命令，使用python3：

```bash
cd ~/Desktop/ETF_trace
python3 main.py
```

## 功能菜单

启动后会显示以下菜单选项：

```
┌─────────────────────────────────────────────────────────────┐
│  请选择功能：                                               │
│                                                             │
│  1. ETF最新价                                             │
│     每隔1秒抓取16只ETF的最新价格                          │
│                                                             │
│  2. 更新上次交易价格和数量                                 │
│     更新任意ETF的上次交易价格和数量                       │
│                                                             │
│  3. 交易信号                                               │
│     分析所有ETF的价格涨跌幅并提示交易信号                 │
│                                                             │
│  0. 退出程序                                               │
└─────────────────────────────────────────────────────────────┘
```

### 功能1：ETF最新价

- 实时监控16只ETF的最新价格
- 每隔1秒自动刷新
- 按 **Ctrl+C** 可停止监控并返回主菜单

### 功能2：更新上次交易价格和数量

- 显示所有ETF及其当前保存的交易数据
- 选择要更新的ETF编号（1-16）
- 输入上次交易价格和数量
- 数据会持久化保存，下次使用无需重复输入

示例操作：
```
1. 输入编号：1
2. 输入上次交易价格：3.25
3. 输入交易数量：10000
4. 数据已保存
```

### 功能3：交易信号分析

- 分析每只ETF的最新价格与上次交易价格的涨跌幅
- 与以下目标价位比较：-10%, -5%, -3%, +3%, +5%, +10%
- 重点提示涨跌幅超过 **±3%** 的ETF
- 计算总盈亏金额：
  - (最新价 × 数量) - (上次交易价 × 数量)
- 提供操作建议：
  - 涨幅 ≥ 3%：建议考虑止盈
  - 跌幅 ≤ -3%：建议密切关注

## 数据存储

系统数据存储在 `data/` 目录下的CSV文件中：

- `user_transactions.csv` - 存储每只ETF的上次交易价格和数量
- 数据会持久化保存，重启系统后不会丢失

## 注意事项

1. **网络连接**：需要使用VPN访问雪球网站获取价格数据
2. **风险提示**：本工具仅供参考，不构成投资建议
3. **数据精度**：价格显示3位小数，涨跌幅度显示2位小数
4. **操作确认**：重要操作都有确认提示，请仔细核对

## 退出系统

在主菜单选择 `0` 或直接关闭终端窗口即可退出。

## 常见问题

**Q: 系统无法启动？**
A: 确保已激活Python虚拟环境：
```bash
source venv/bin/activate
```

**Q: 获取价格失败？**
A: 检查网络连接，确保可以访问雪球网站（https://xueqiu.com）

**Q: 如何更新ETF列表？**
A: 编辑 `config/app.py` 文件，在 `ETF_CONFIG` 字典中添加或修改ETF配置

**Q: 数据文件损坏？**
A: 删除 `data/` 目录下的CSV文件，系统会自动创建新的数据文件

## 免责声明

本工具仅供个人学习使用，不构成任何投资建议。投资有风险，入市需谨慎。使用本工具产生的任何损失，由用户自行承担。
